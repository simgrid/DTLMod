# Valgrind suppressions file for DTLMod
# This file contains suppressions for known false positives and third-party library issues

# SimGrid I/O activity leaks in forked test processes (DO_TEST_WITH_FORK uses _exit())
{
   simgrid_io_init_leak
   Memcheck:Leak
   ...
   fun:*simgrid*s4u*Io*init*
}

{
   simgrid_disk_io_init_leak
   Memcheck:Leak
   ...
   fun:*simgrid*s4u*Disk*io_init*
}

# SimGrid context and engine allocations not freed in forked children
{
   simgrid_context_factory
   Memcheck:Leak
   ...
   fun:*simgrid*
}

{
   fsmod_library
   Memcheck:Leak
   ...
   fun:*simgrid*fsmod*
}

{
   boost_context
   Memcheck:Leak
   ...
   obj:*/libboost_context.so*
}

{
   boost_filesystem
   Memcheck:Leak
   ...
   obj:*/libboost_filesystem.so*
}

{
   python_interpreter
   Memcheck:Leak
   ...
   obj:*/libpython*.so*
}

{
   gtest_initialization
   Memcheck:Leak
   ...
   obj:*/libgtest.so*
}

{
   libstdc++_allocations
   Memcheck:Leak
   ...
   obj:*/libstdc++.so*
}

{
   graphviz_cgraph
   Memcheck:Leak
   ...
   obj:*/libcgraph.so*
}
